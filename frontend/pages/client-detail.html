
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle del Cliente</title>
  <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
  <div class="container">
    <div class="details-buttons">
      <!-- <a href="clientes.html"><button >Atrás</button></a> -->
      <button onclick="window.history.back()" class="backButton">Volver</button>
      <button class="invoiceButton">Generar factura</button>
    </div>
    
    <h1>Detalles del Cliente</h1>
    <div id="client-detail"></div>
    <br>

    <h2>Pedidos del Cliente</h2>
    <div id="orders-container" class="accordion-container"></div>
    
    <button id="add-order-button" class="submit-button">Agregar nuevo pedido</button>
    <button id="delete-client-button" class="delete-button">Eliminar cliente</button>

    <div id="new-order-form" style="display:none; margin-top: 20px;">
      <h3>Nuevo Pedido</h3>
      <form id="order-form" class="form-container">
        <label>Concepto del trabajo</label>
        <input type="text" id="newWorkName" placeholder="Concepto del trabajo" required>
        <label>Horas diseño</label>
        <input type="number" id="newDesignHours" placeholder="Horas diseño">
        <label>Horas impresión</label>
        <input type="number" id="newPrintHours" placeholder="Horas impresión">
        <label>Fecha de entrega del pedido</label>
        <input type="date" id="newJobDate">

        <label>Nº de piezas</label>
        <input type="number" id="newPieces" placeholder="Piezas">
        <label>Tipo de trabajo</label>
        <select id="newJobType">
          <option value="">Selecciona tipo</option>
          <option value="Impresión 3D">Impresión 3D</option>
          <option value="Diseño 3D">Diseño 3D</option>
          <option value="Diseño e impresión 3D">Diseño e impresión 3D</option>
        </select>

        <label>Asignar empleado</label>
        <select id="employeId" required>
          <option value="">Selecciona empleado</option>
        </select>
        <button type="submit" class="submit-button">Guardar Pedido</button>
      </form>
    </div>
  </div>

<!-- Modal para editar pedido -->
  <div id="editOrderModal" class="modal hidden">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <h2>Editar Pedido</h2>

    <form id="editOrderForm" class="editOrderForm">
      <input type="hidden" id="editOrderId" />

      <label>Concepto: <input type="text" id="editWorkName" /></label>
      <label>Fecha de entrega: <input type="date" id="editDeliveryDate" /></label>
      <label>Horas diseño: <input type="number" id="editDesignHours" /></label>
      <label>Horas impresión: <input type="number" id="editPrintHours" /></label>
      <label>Piezas: <input type="number" id="editPieces" /></label>
      <label>Tipo de trabajo:
        <select id="editJobType">
          <option value="">Selecciona tipo</option>
          <option value="Impresión 3D">Impresión 3D</option>
          <option value="Diseño 3D">Diseño 3D</option>
          <option value="Diseño e impresión 3D">Diseño e impresión 3D</option>
        </select>
      </label>
      <label>Empleado a cargo: 
        <select id="editEmployee" required>
          <option value="">Selecciona empleado</option>
        </select></label>
      <button type="submit">Guardar cambios</button>
    </form>
  </div>
</div>

<style>
  .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
  .modal-content { background: white; padding: 20px; margin: 20px auto; width: 400px; border-radius: 5px; position: relative; }
  .modal .close-modal { position: absolute; top: 10px; right: 10px; cursor: pointer; }
  .modal.show { display: block; }
</style>

    <style>
    .accordion-container {
      margin-top: 20px;
    }
    .accordion-item {
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    .accordion-header {
      background-color: #eee;
      padding: 10px;
      cursor: pointer;
    }
    .accordion-content {
      padding: 10px;
      display: none;
    }
    .accordion-content.active {
      display: block;
    }
  </style>


  <script src="../js/clientDetail.js"></script>
</body>
</html>
